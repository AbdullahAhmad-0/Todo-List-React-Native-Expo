import React, { useState, useEffect } from "react";
import { NavigationContainer } from "@react-navigation/native";
import { createNativeStackNavigator } from "@react-navigation/native-stack";
import registerNNPushToken from "native-notify";

import Home from "./screens/Home";
import NewScreen from "./screens/NewScreen";

const Stack = createNativeStackNavigator();

export default function Index() {
    // Push Notifications
    registerNNPushToken(4015, "test");

    // global state management
    const { toDoList, setToDoList } = useState([{ id: 1, task: "task name" }]);
    const { task, setTask } = useState("");
    const { chosenTask, setChosenTask } = useState([]);

    const GlobalState = {
        toDoList,
        setToDoList,
        task,
        setTask,
        chosenTask,
        setChosenTask,
    };

    // Navigation
    return (
        <NavigationContainer>
            <Stack.Navigator>
                <Stack.Screen name="Home" options={{ headerShown: false }} component={Home} />
                <Stack.Screen name="NewScreen" options={{ headerShown: false }} component={NewScreen} />
            </Stack.Navigator>
        </NavigationContainer>
    );
}
